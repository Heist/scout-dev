<div id="view-overview-neu" ng-controller="overview">
	<div id="header">
		
		<div id="header-logo">
			&nbsp;
		</div>
		
		<div id="header-title">Tests</div>
		
		<div id="header-account">
			<div id="header-account-avatar">
				<img src="https://s3.amazonaws.com/uifaces/faces/twitter/jackiesaik/128.jpg">
			</div>
			<div id="header-account-dropdown">&#9662;</div>
		</div>
		
	
					
	
	</div>
	
	<!-- / header nav -->
	
	<div id="left-pane" ng-model="sessions">
		
		<div id="questions">
			
			<div class="questions-group active">
				<ul>
					<li class="test-newtest">
						<div class="test-newtest-create">
							<button class="button" ng-click="addTest(test)">+ Add a new test</button>		
						</div>
					</li>
					
					<li class="question" ng-repeat="session in sessions | unique:'testKey'" ng-click="select(session, $index)" ng-class="{ 'active': $index == selectedIndex}">
						<div class="test-controls">
							<button class="button small secondary" ng-click="addAndLaunchNewSession(session)" ng-show="session.flows[0].steps.length > 0" >Run Test</button>
							<button class="button small" ng-click="loadReport(session.testKey)" ng-show="session.report == true">Report</button>
							<button class="button small destructive" ng-click="removeTest(session)">&times;</button> 
						</div>
						
						<div class="session-name">
							<h4 ng-hide="session.editing">
								{{session.name}} <img src="/assets/pencil-rev.svg" ng-click="editTitle(session)">
							</h4>
							<form ng-show="session.editing">
								<input class="edit input" ng-trim="true" ng-model="session.name" ng-focus="editTitle(session)" ng-blur="blurTitle(session)">
							</form>
						</div>
						<small ng-show='flow.updated > flow.created'>Last run {{flow.updated | date: 'MMM dd, yyyy'}} / 
							<ng-pluralize count="ssincount"
		                		when="{'0': 'Never run.',
		                       'one': 'One participants',
		                       'other': '{} participants'}">
  							</ng-pluralize>
  					</small>	
					</li>
				</ul>
			</div>
			
	
		</div>
			
	</div>
	
	
	<div id="large-pane">
	
	<!-- show the flows associated with this test -->
		<div ng-show="selected">
			<h3><span>{{selected.title}}</span></h3>
			
				
			<div class="session-flow" ng-repeat="flow in selected.flows track by $index">
				<div class="flow-hamburger">
					&equiv;
				</div>
			
				<div class="session-flow-controls">
					<button class="button small" ng-click="summarizeFlow(selected.testKey, flow.title)" ng-hide="flow.summary">Summarize</button>

					<button class="button small" ng-click="summarizeFlow(session.testKey, flow.title)" ng-show="flow.summary">Summary</button>
					
					&nbsp;&nbsp;
					
					<!-- TODO: we want to view a report just for this flow -->
					<button class="button small" ng-click="viewFlowReport(flow, selected.testKey)" ng-show="flow.summary" >View Report</button> 
					
					&nbsp;&nbsp;

					<button class="button small secondary" ng-click="editFlow(selected, flow)" >Edit</button>
					
					<button class="button small destructive" ng-click="removeFlow(selected, flow)">&times;</button>
				</div>	
				
				<small>Flow</small>
				<h3>{{flow.title}}</h3>
				<p>{{flow.summary}}</p>
				<div class="clear"></div>
				
			</div>	
				
				
			<div class="session-flow empty">
				<button class="button" ng-click="addAFlow(selected)">+ Add a new flow</button>		
			</div>	</div>
			
	</div>
</div>