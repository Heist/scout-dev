<!-- Add test -->
<div id="view-editing" ng-model="test">

    <ng-include src="'partials/app/header.html'"></ng-include>
    
    
    <!-- sub bar -->
    <div id="sub-bar">
        <div class="container">
            
            
            <ul class="stepped-nav">
                <li class="step-left"
                ng-class="{'step-completed': test.desc, 'step-active': anchor === 1 , 'step-inactive': anchor !== 1}">
                	<a href="#" ng-click="showAnchor(1)">Choose a test type</a><div class="step-state"></div>
                </li>
                
                <li class="step-middle"
                ng-class="{'step-completed': test._tasks.length > 0, 'step-active': anchor === 3 ,'step-inactive': anchor !== 3}">
                	<a href="#" ng-click="showAnchor(3)">Set up tasks</a><div class="step-state"></div>
                </li>

                <!-- <li class="step-middle step-inactive"><a href="#" ng-click="showAnchor(3)">Create some themes</a><div class="step-state"></div></li> -->

                <li class="step-right"
                ng-class="{'step-completed' : anchor === 5,'step-active': anchor === 5 ,'step-inactive': anchor !== 5 }">
                	<a>You're done!</a><div class="step-state"></div>
                </li>
                <div class="clear"></div>
            </ul>
    
            
            <h1><span>Create a new test</span></h1>
            
        </div>
    </div>

    <div class="container editing-container" >
        <div class="module quarter">
            
            <div class="explanation">
                <div class="explanation-main">
                    <small>{{explanation.title}}</small>
                    <p ng-bind-html='explanation.body'></p>
                </div>
    
            </div>
            
        </div>
        
        <div class="module three-quarters">
        <!-- step1 - test type -->

        <!-- choose a test type -->

            <div ng-show="anchor === 1">
            	<div class="module third test-type" >
            	    <img src="/layout/assets/testtype-ethno.png">
            	    <h3>Interview</h3>
            	    <p>You have a <strong>discussion-style</strong> test that doesn’t have any visuals associated with it.</p>
            	    <button class="button small hollow disabled">Coming soon</button>
            	    <div class="selected-arrow"><img src="/layout/assets/select-arrow.png" /></div>
            	</div>
            	
            	<div class="module third test-type selected">
            	    <img src="/layout/assets/testtype-proto.png">
            	    <h3>Prototype</h3>
            	    <p>You have a <strong>screen-based prototype</strong> in Invision, Marvel, or on the web.</p>
            	    <button class="button small" ng-click='selectPrototype("web")'>Select</button>
            	    <div class="selected-arrow"><img src="/layout/assets/select-arrow.png" /></div>
            	</div>
            	
            	<div class="module third test-type">
            	    <img src="/layout/assets/testtype-video.png">
            	    <h3>Video</h3>
            	    <p>You want to capture notes from a <strong>pre-recorded video</strong>, like on Youtube or usertesting.com.</p>
            	    <button class="button small hollow disabled">Coming soon</button>
            	    <div class="selected-arrow"><img src="/layout/assets/select-arrow.png" /></div>
            	</div>
            	
            	<div class="clear"></div>
            </div>
            
            
            
            <!-- this is technically step 2, this will only appear when you select a test-type -->
            
            <div class="module two-thirds test-details" ng-show="anchor===1 && test.kind">
                <ul class="nobullets" >
                    <li>
                        <label for="field-testname">Your test name</label>
                        
                        <input class="input" id="field-testname" ng-model="test.name" type="text" value="" placeholder="e.g. Onboarding flow" ng-blur="updateTest()" />
                    </li>
                    
                    <li>
                        <label for="field-testname">What type of device is your prototype for?</label>
                    
                        <div class="test-details-devicetype phone" 
                        	 ng-click='selectPlatform("mobile")'
                        	 ng-class="{'selected' : test.platform === 'mobile' }">
                            <img src="/layout/assets/platform-icons/mobile.png" /><br>
                            iPhone
                        </div>

                        <div class="test-details-devicetype tablet"
                        	 ng-class="{'selected' : test.platform === 'tablet' }"
                        	 ng-click='selectPlatform("tablet")'>
                            <img src="/layout/assets/platform-icons/tablet.png" /><br>
                            iPad
                        </div>
                        <div class="test-details-devicetype desktop unavailable" >
                            <img src="/layout/assets/platform-icons/laptop-unavailable.png" /><br>
                            Desktop <small class="">coming soon</small>
                        </div>  
                        <div class="clear"></div>           
                    </li>
                    
                    <li>
                        <label for="field-prototypeurl">Your prototype URL</label>
                        
                        <input class="input" id="field-prototypeurl" ng-model="test.link" type="text" value="" placeholder="http://invis.io/ABC123" />
                        <!--<small><a href="#" class="alt">How do I find my prototype URL?</a></small>-->
                    </li>
                    
                    <li>
                        <label for="field-prototypeurl">Your test objectives</label>
                        
                        <textarea class="input" id="field-objective" type="text" value="" ng-model="test.description" placeholder="What is the purpose of this test?" />
                    </li>
                    
                    <li>
                        <button class="button small" type="submit" ng-click="saveAndMove(3)">Next step</button>
                    </li>
                
                </ul>
            </div>
            
            <div class="clear"></div>
        <!-- / step 1 -->

        <!-- step 3 - add tasks -->
            <div class="module two-thirds test-tasks" ng-show="anchor === 3">
            
                <h3>Tasks in this Test</h3>
                
                
                <ul id="steps" ui-sortable="sortableOptions" ng-model='tasks'>
                
                    <li ng-repeat="task in tasks" ng-class="{selected: isActive(task)}" ng-click="select(task)" ng-blur="">
                    
                        <div class="step-hamburger">≡</div>
                        
                        <div class="step-controls">
                            <div class="step-delete pointer big" ng-click="removeTask(task)">×</div>
                        </div>
                        
            
                        <div class="step-contents">
                            <form>
                
                                <input class="input tight" ng-trim="false" ng-model="task.name" ng-focus="editTitle(task)" ng-blur="blurTitle(task)"><br/>
                                <textarea ng-model="task.desc" class="input small tight" id="field-textarea" ng-blur="updateTask(task)" placeholder="Put talking points or task-specific questions here.">
                                </textarea>
                
                            </form>
                            
                        </div>
        
                        <div class="clear"></div>       
                    </li>
                    
                    
                </ul>
                
                
                <button class="button small hollow" ng-click="newTask()">+ Add a task</a></button>
                
                <div class="line-top">
                	<button class="button small" ng-click="saveAndMove(5)">Next step</button>
                </div>
                
            </div>
        <!-- / step 3 -->

        <!-- step 4 - define tasks -->
        <!-- we're not doing this yet -->
        <!-- / step 4 -->

        <!-- step 5 - you're done! -->
            <div class="module two-thirds test-done" ng-show="anchor === 5">
            
                <h1>You're done!</h1>
                <p>Great job building that test. Go back to the <a href="/overview">My Tests</a> screen and start testing!</p>
                
            </div>              
            
        </div>
        
        <div class="clear"></div>
        <!-- / step 5 -->


    </div>
    
</div>