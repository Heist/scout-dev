<div id="view-overview">

	<ng-include src="'partials/app/_header-full.html'"></ng-include>
	<ng-include src="'partials/app/_help-bubble.html'"></ng-include>
	
	
	<div class="modal animated slideInUp" id="modal" ng-if="onboardSteps" ng-controller="onboard">
		<button class="x-onboard" ng-click="$parent.onboardToggle()">&times;</button>
		<ng-include src="'partials/app/_onboard.html'"></ng-include>
	</div>
	<!-- show tests in db -->
	<div class="container">
		
		<div id="header-min">
			<h3 class="h3-light float-left">My Projects</h3>
			
			<div class="overview-controls">
				<div class="expand-button">
					<div class="expand-button-body" ng-click="newTestModalToggle()">+</div>
					
					<div class="expand-button-helper">Add new project</div>
				</div>
				<!-- <div class="expand-button">
								<div class="expand-button-body" ng-click="devTest()">+</div>
							
								<div class="expand-button-helper">Add mock</div>
				</div> -->
				
			</div>
			
			<div class="clear"></div>
			
		</div>
		<!-- create new project modal -->
		
		<div class="modal-scroll" ng-model="newProject" ng-if="newProject">
			<ng-include src="'partials/app/_new-project.html'"></ng-include>
		</div>

		<!-- / create new project modal -->

			<!-- test -->
			<div class="overview-test module quarter" ng-repeat="test in tests | orderBy:'created'">
				<div class="overview-test-container">
					
					<div class="test-info">
						<h3>{{test.name}}</h3>
						<small>{{test.kind}} &mdash;
						<span ng-show="test._subjects.length > 0">Run {{test._subjects.length}} times</span>
						<span ng-show="test._subjects.length === 0">Never tested</span>
						</small>
						
						<div class="editTest-tooltips">
							<span ng-show="editTestedit && test.subjects.length === 0">Edit Project</span>
							<span ng-show="editTestdupe">Duplicate Project</span>
							<span ng-show="editTestdelete">Delete Project</span>
						</div>
						
						<div class="editTest">
							
							<a ng-mouseover="editTestedit=true" ng-mouseleave="editTestedit=false" ng-click="editTest(test)"><img src="/layout/assets/edit.svg" ng-show="test.subjects.length === 0"/></a> &nbsp;
							<a ng-mouseover="editTestdupe=true" ng-mouseleave="editTestdupe=false" ng-click="dupeTest(test)"><img src="/layout/assets/duplicate.svg" /></a> &nbsp;
							<a ng-mouseover="editTestdelete=true" ng-mouseleave="editTestdelete=false" class="dangerous"
								ng-confirm-click="Are you sure you want to delete this project? Your notes and summaries for this project will be permanently removed."
								confirmed-click-action="removeTest(test)">
								<img src="/layout/assets/delete.svg" />
							</a>
						</div>
					</div>
					
					
					<div class="test-controls-empty" ng-show="test._tasks.length === 0">
						<small><a ng-click="editTest(test)">You need to add some tasks.</a></small>
					</div>
					
					
					<div class="test-controls">
						
						<a class="left" ng-click="runTest(test)" ng-show="test._tasks.length > 0">Run a Session</a>

						<a class="right" ng-click="summarizeTest(test._id)" ng-show="test._subjects.length > 0">Project Report</a>
						
						<div class="clear"></div>
					</div>
					
				</div>
			</div>
			<!-- / test -->
			
			<div class="clear"></div>
			
		</div>
	</div>